<!DOCTYPE html>

<nav class="navbar navbar-expand-sm bg-secondary navbar-dark fixed-top">
    <div class="container">
        <!-- Brand -->
        <a class="navbar-brand" href="{% url 'home-page' %}">LogMon</a>
        <!-- Toggler/collapsibe Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Navbar links -->
        <div class="collapse navbar-collapse text-right" id="collapsibleNavbar">
            <ul class="navbar-nav mr-auto">
                {% with url_name=request.resolver_match.url_name %}
                    <!-- <li class="nav-item {% if url_name == 'home-page' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'home-page' %}">Home</a>
                    </li> -->
                    <li class="nav-item {% if url_name == 'faq-page' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'faq-page' %}">FAQ</a>
                    </li>
                    {% if user.is_authenticated %}
                        <li class="nav-item {% if url_name == 'host-new' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'host-new' %}">New Host</a>
                        </li>
                        <li class="nav-item {% if url_name == 'hosts-own' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'hosts-own' %}">My Hosts</a>
                        </li>
                    {% endif %}
                    <li class="nav-item {% if url_name == 'hosts-list' %} active {% endif %}">
                        <a class="nav-link" href="{% url 'hosts-list' %}">All Hosts</a>
                    </li>
                {% endwith %}
            </ul>
            <ul class="navbar-nav ml-auto">
                {% with url_name=request.resolver_match.url_name %}
                    <li class="nav-item nav-link">
                        <form action="{% url 'search_results' %}" method="get">
                            <input class="nav-search" name="q" type="text">
                        </form>
                    </li>
                    {% if user.is_authenticated %}
                        {% if user.is_staff %}
                            <li class="nav-item {% if url_name == 'admin:index' %} active {% endif %}">
                                <a class="nav-link" href="{% url 'admin:index' %}">Admin</a>
                            </li>
                        {% endif %}
                        <li class="nav-item {% if url_name == 'profile' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'profile' %}">{{user.username}}</a>
                        </li>
                        <li class="nav-item {% if url_name == 'logout' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'logout' %}">Logout</a>
                        </li>
                    {% else %}
                        <li class="nav-item {% if url_name == 'login' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'login' %}">Login</a>
                        </li>
                        <li class="nav-item {% if url_name == 'register' %} active {% endif %}">
                            <a class="nav-link" href="{% url 'register' %}">Register</a>
                        </li>
                    {% endif %}
                {% endwith %}
            </ul>
        </div>
    </div>
</nav>
